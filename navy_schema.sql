
DROP TABLE IF EXISTS fleets CASCADE;
DROP TABLE IF EXISTS ships CASCADE;
DROP TABLE IF EXISTS sailors CASCADE;
DROP TABLE IF EXISTS tours CASCADE;

CREATE TABLE fleets (
  id SERIAL PRIMARY KEY NOT NULL,
  name VARCHAR(50) NOT NULL
);

CREATE TABLE ships (
  id SERIAL PRIMARY KEY NOT NULL,
  name VARCHAR(50) NOT NULL,
  date_built DATE NOT NULL,
  fleet_id INTEGER NOT NULL REFERENCES fleets(id) 
);

CREATE TABLE sailors (
  id SERIAL PRIMARY KEY NOT NULL,
  name VARCHAR(50) NOT NULL,
  date_of_birth DATE NOT NULL
);

CREATE TABLE tours (
  id SERIAL PRIMARY KEY NOT NULL,
  shipid INTEGER NOT NULL REFERENCES ships(id),
  sailorid INTEGER NOT NULL REFERENCES sailors(id),
  duty VARCHAR(50) NOT NULL,
  tour_start DATE NOT NULL,
  tour_end DATE NOT NULL,
  rank varchar(30)
);